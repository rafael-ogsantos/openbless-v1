<app-layout>
  <section class="container-global">
    <h2 class="colors-name">Crm</h2>
    <div class="card" style="height: auto;">
      <form class="auth-form" fxLayout="column" #f="ngForm" #f="ngForm" (ngSubmit)="onSubmit(f)">
        <div class="box">
          <div class="header">
            <h5 class="colors-name">Crm - Setores</h5>
          </div>

          <div class="inputForm w-30">
            <mat-select name="setor" [(ngModel)]="seto" (ngModelChange)="load(f)" placeholder="Selecione o setor"  required>
              <mat-option *ngFor="let setor of setores" [value]="setor">
                {{ setor }}
              </mat-option>
            </mat-select>
          </div>

          <ng-template #elseTemplate>
             Marketing
          </ng-template>

          <div class="inputForm">
            <input name="assunto" ngModel required type="text">
            <label for="">Assunto</label>
          </div>

          <div class="inputForm">
            <textarea name="mensagem" ngModel required type="text" rows="500"></textarea>
            <label for="">Mensagem</label>
          </div>
        </div>

         <button type="submit">Enviar</button>
      </form>
    </div>

    
    <div class="card" *ngIf="seto" style="height: auto;">
      <div class="header">
        <h5 class="colors-name">Lista de E-mail de cada setor</h5>
      </div>



        <div class="" *ngIf="seto === 'TI'">
          <div class="" >
              <mat-option *ngFor="let email of sectores" [value]="setor">
                 <p>{{ email.email }}</p>
              </mat-option>
          </div>
        </div>
  
        <div class="" *ngIf="seto === 'Marketing'">
          <div class="" >
            <mat-option *ngFor="let email of sectores" [value]="setor">
              {{ email.email }}
            </mat-option>
          </div>
        </div>
        </div>
      <!-- <app-list-emails-sectors [list]="sectores"></app-list-emails-sectors> -->
    

    <ng-template #elseTemplate>
      erro
    </ng-template>
  </section>
</app-layout>
